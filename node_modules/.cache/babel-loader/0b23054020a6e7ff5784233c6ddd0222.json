{"ast":null,"code":"class Game {\n  constructor(dimension) {\n    this.getRandomNumber = () => Math.random() > .1 ? 2 : 4;\n\n    this.getRandomArrayIndex = arr => Math.floor(arr.length * Math.random());\n\n    this.onMove = callback => this.moveCallback = callback;\n\n    this.dimension = dimension;\n    this.setupNewGame();\n  }\n\n  setupNewGame() {\n    const board = this.blankGrid();\n    this.addNumber(board);\n    this.addNumber(board);\n    this.gameState = {\n      board: board,\n      score: 0,\n      won: false,\n      over: false\n    };\n  }\n\n  addNumber(board) {\n    const openings = [],\n          {\n      dimension\n    } = this;\n\n    for (let i = 0; i < dimension; i++) {\n      for (let j = 0; j < dimension; j++) {\n        if (board[i][j] === 0) openings.push({\n          col: i,\n          row: j\n        });\n      }\n    }\n\n    if (openings.length === 0) return;\n    const target = openings[this.getRandomArrayIndex(openings)];\n    board[target.col][target.row] = this.getRandomNumber() > 0.1 ? 2 : 4;\n  }\n\n  blankGrid() {\n    const grid = [],\n          {\n      dimension\n    } = this;\n\n    for (let i = 0; i < dimension; i++) {\n      grid.push(Array(dimension).fill(0));\n    }\n\n    return grid;\n  }\n\n  convertTo2D(board) {\n    const board2D = this.blankGrid();\n    board.forEach(tile => console.log(tile));\n  }\n\n  convertTo1D(board) {\n    const {\n      dimension\n    } = this.state,\n          board1D = Array(dimension * dimension).fill(0);\n\n    for (let row = 0; row < dimension; row++) {\n      for (let col = 0; col < dimension; col++) {\n        board1D.push(board[row * dimension + col]);\n      }\n    }\n  }\n\n}\n\nexport default Game;","map":{"version":3,"sources":["/home/mitchell/School/426/2048/src/Game.js"],"names":["Game","constructor","dimension","getRandomNumber","Math","random","getRandomArrayIndex","arr","floor","length","onMove","callback","moveCallback","setupNewGame","board","blankGrid","addNumber","gameState","score","won","over","openings","i","j","push","col","row","target","grid","Array","fill","convertTo2D","board2D","forEach","tile","console","log","convertTo1D","state","board1D"],"mappings":"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","sourcesContent":["class Game {\n    \n    constructor(dimension) {\n        this.dimension = dimension;\n        this.setupNewGame()\n    }\n\n    setupNewGame() {\n        const board  = this.blankGrid();\n        this.addNumber(board);\n        this.addNumber(board);\n\n        this.gameState = {\n            board: board,\n            score: 0,\n            won: false,\n            over: false\n        }\n    }\n\n    addNumber(board) {\n        const openings = [], { dimension } = this;\n\n        for (let i = 0; i < dimension; i++) {\n            for (let j = 0; j < dimension; j++) {\n                if (board[i][j] === 0) \n                    openings.push({col: i, row: j});\n                \n            }\n        }\n\n        if(openings.length === 0)\n            return;\n\n        const target = openings[this.getRandomArrayIndex(openings)];\n        board[target.col][target.row] = this.getRandomNumber() > 0.1 ? 2 : 4;\n    }\n\n    getRandomNumber = () => Math.random() > .1 ? 2 : 4;\n    getRandomArrayIndex = arr => Math.floor(arr.length * Math.random());\n\n    blankGrid() {\n        const grid = [], { dimension } = this;\n        for(let i = 0; i < dimension; i++) {\n            grid.push(Array(dimension).fill(0));\n        }\n        return grid;\n    }\n\n    onMove = callback => this.moveCallback = callback;\n\n    convertTo2D(board) {\n        const board2D = this.blankGrid();\n        board.forEach(tile => console.log(tile))\n    }\n\n    convertTo1D(board) {\n        const { dimension } = this.state, board1D = Array(dimension*dimension).fill(0);\n        for(let row = 0; row < dimension; row++) {\n            for(let col = 0; col < dimension; col++) {\n                board1D.push(board[row*dimension + col]);\n            }\n        }\n    }\n}\n\nexport default Game;"]},"metadata":{},"sourceType":"module"}